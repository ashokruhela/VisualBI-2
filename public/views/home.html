<div id="wrapper" ng-class="{'toggled': showMenu}">
	<header-directive></header-directive>
	<div id="page-content-wrapper">
		<div class="container pull-left">
			<div ng-include="'views/dialogs/chartModal.tpl.html'"></div>
				<uib-tabset class="wrap">
					 <uib-tab id="{{ tab.tabId }}" heading = "{{ tab.tabTitle }}" ng-repeat= "tab in tabs">
						 <button type="button" ng-click="gotoEditPage(tab)" class="btn btn-primary row-btn pull-right">Edit Tab <span class="glyphicon glyphicon-edit"></span></button>
						 <div class = "row" ng-repeat = "row in tab.rows">
							  <div class = "col-sm-{{ col.colWidth }}" ng-repeat = "col in row.columns">
									<div class="panel panel-primary">
										<div class="panel-heading">
											<h3 class = "panel-title">{{ col.widgetId.title }}
											<a class="pull-right" ng-click="fullScreen(col.widgetId.chartRenderer, col.widgetId.parameters, col.widgetId.title, col.widgetId.comments)"><span class="glyph-fullscreen glyphicon glyphicon-fullscreen"></span></a>
											</h3>
										</div>
										<div class="panel-body">
											<div ng-show="isLoading">
												<img src="/images/loading.gif" /> loading...
											</div>

											<chart-panel column-width = "{{ col.colWidth }}" parameters = "{{ col.widgetId.parameters }}" chart-renderer-method = "{{ col.widgetId.chartRenderer }}" >

											</chart-panel>
										</div>
										<div class="panel-footer">
											<div class="comment-slug">
												<a ng-click="fullScreen(col.widgetId.chartRenderer, col.widgetId.parameters, col.widgetId.title, col.widgetId.comments)">
													<span class="glyph-right-space glyphicon glyphicon-comment"></span>
													<span ng-show="col.widgetId.comments.length <= 0">Add comments</span>
													<span ng-show="col.widgetId.comments.length > 0">
														See comments from <span class="user-comments-meta"> {{lastCommentBy(col.widgetId.comments)}} and {{col.widgetId.comments.length}} others</span>
													</span>

												</a>
											</div>
										</div>
									</div>
							  </div>
						 </div>
					 </uib-tab>
    			 <uib-tab ng-click="createTab()">
						 <uib-tab-heading class="ng-scope">
       					<i class="glyphicon glyphicon-plus"></i>
    				 </uib-tab-heading>
					 </uib-tab>
					 <load></load>
				</uib-tabset>
		</div>
	</div>
</div>
